(* 
   Build file for Flyspeck project.

   hol-light should already be loaded
   #use "hol.ml";;

   Make sure the reference load_path points to the flyspeck/text_formalization dir 
   If the "FLYSPECK_DIR" environment variable is set to this directory then
   this can be done with
   load_path:= (Sys.getenv "FLYSPECK_DIR")::(!load_path);;

   It should also point to the hol-light source
   load_path := (Sys.getenv "HOLLIGHT_DIR")::(!load_path);;

   (* some files contain this identifier *)
   let flyspeck_needs = needs;;

   Multivariate/flyspeck.ml is needed everywhere.
   
 *)


module Build = struct

let build_sequence = 
  ["general/sphere.hl";
   "leg/geomdetail.hl";
   "leg/affprops.hl";
   "leg/cayleyR_def.hl";
   "leg/collect_geom.hl";
(* flyspeck_needs  "leg/collect_geom2.hl";*) (* slow and rarely needed *)
   "nonlinear/ineq.hl";
   "nonlinear/ineqdata3q1h.hl";
   "trigonometry/trig1.hl";
   "trigonometry/trig2.hl";
   "trigonometry/trigonometry.hl";
   "trigonometry/delta_x.hl";
   "trigonometry/euler_complement.hl";
   "trigonometry/euler_multivariate.hl";
   "trigonometry/euler_main_theorem.hl";
   "volume/vol1.hl";
   "hypermap/hypermap.hl"; 
   "fan/fan.hl";
   "packing/pack1.hl"; 
   "packing/pack2.hl";
   "packing/pack_defs.hl";
   "packing/pack_concl.hl";
   "packing/TARJJUW.ml";
   "packing/TIWWFYQ.hl";
   "packing/RHWVGNP.hl";
   "packing/DRUQUFE.hl";
   "packing/BBDTRGC_def.hl";
   "packing/NOPZSEH_def.hl";
   "packing/JNRJQSM_def.hl";
   "packing/KHEJKCI.hl";
   "packing/IDBEZAL.hl";
   "packing/JJGTQMN_def.hl";
   "packing/PHZVPFY_def.hl";
  (*  "tame/tame_opposite.ml"; *) (* needs updating to work with current hypermap.hl *)
   "tame/pishort.hl";
    (*  "tame/tame_hypermap.ml"; *)  (* contains CHEAT_TAC!! *)
  ];;

let build_all() =
  (needs "Multivariate/flyspeck.ml"; 
   map needs build_sequence);;

end;;
