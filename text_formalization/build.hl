(* 
   Build file for Flyspeck project.

   the system dependent string flyspeck should be set to the "text_formalization" path.
   For example, on my system, I have added a line to my .bashrc file
   export FLYSPECK_DIR="$HOME/Desktop/flyspeck_google/source/text_formalization"

 *)

let flyspeck_dir = 
  (try Sys.getenv "FLYSPECK_DIR" with Not_found -> Sys.getcwd());;

let flyspeck_needs s = 
     (
       needs (Filename.concat flyspeck_dir s);
       prioritize_real();
       if not(List.length(axioms()) =3) then failwith ("Axioms disabled in "^s);
     );;

(* disable cheating *)
let CHEAT_TAC = FAIL_TAC "cheaters never prosper";;
let new_axiom _ = failwith "new axiom has been disabled";; 

(* HOL LIGHT *)
hol_version;;
needs "Multivariate/flyspeck.ml";;

(* utilities *)
flyspeck_needs "general/print-types.ml";;
flyspeck_needs  "general/update_database_310.ml";;
flyspeck_needs "general/prove_by_refinement.hl";;

(* general *)
flyspeck_needs  "general/sphere.hl";;

(* lemmas in geometry *)
flyspeck_needs "leg/geomdetail.hl";;
flyspeck_needs "leg/affprops.hl";;
flyspeck_needs "leg/cayleyR_def.hl";;
flyspeck_needs  "leg/collect_geom.hl";;


(* slow, and not generally needed. contains NUHSVLM on cayleyR:*)
(* flyspeck_needs  "leg/collect_geom2.hl";;  *)

(* nonlinear *)
flyspeck_needs  "nonlinear/ineq.hl";;
flyspeck_needs  "nonlinear/ineqdata3q1h.hl";;

(* to here *)


(* trigonometry *)
flyspeck_needs  "trigonometry/trig1.ml";;
flyspeck_needs  "trigonometry/trig2.ml";;
flyspeck_needs  "trigonometry/trig_summary.hl";;

(* volume *)
flyspeck_needs  "volume/volume.ml";;
flyspeck_needs  "volume/volume_summary.hl";;

(* hypermap *)
flyspeck_needs  "hypermap/hypermap.ml";;

(* fan *)
flyspeck_needs  "fan/fan.ml";;
flyspeck_needs  "fan/fan_summary.hl";;

(* packing *)
flyspeck_needs  "packing/formulation.ml";;

(* local fan -- no files *)


(* tame *)
