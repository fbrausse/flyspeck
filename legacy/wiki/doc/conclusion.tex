
\section{Conclusion and Further Work}
\label{sec:conc}

\begin{conclusion}
\ednote{ESWC: Formal evaluation, user interviews}Our preliminary experiments lead us to believe that, due to its rich
semantic web and OMDoc infrastructure, future work toward supporting
Flyspeck should continue in the SWiM infrastructure.  For the text-based
page format of MediaWiki, features that rely on structures like the
linking of symbols could only be realized in an ad hoc way
using, say, regular expressions.  Relying on the XML infrastructure of
OMDoc, these features are either already available or easier to develop.
However, rapidly \emph{prototyping} our first ideas about the wiki
support required for Flyspeck was easier in Semantic MediaWiki due to
its ability to design ad hoc ontologies and its implementation in the
interpreted language PHP.
\end{conclusion}

\begin{discussion}
\paragraph{Importing} For this case study, we created OMDoc from Twelf. OMDoc
also offers support for the alternative workflow of stepwise formalization as
well.  One could either start by converting the Flyspeck book from {\LaTeX} to
HTML with MathML formul√¶ and formalize the presentation markup into content
markup step by step, or one could start the formalization on the {\TeX} side.
There, one would formalize the book to s\TeX{}, a content-oriented {\TeX}
notation for OMDoc, which can then be converted to
OMDoc~\cite{Kohlhase:albwo06}.  Either way involves a {\TeX}-to-XML
transformation, which has been tested in large scale in our
group~\cite{URL:arXMLiv}.

\paragraph{Annotating} The case study showed that the editing of ontologies in
SWiM should become more flexible.  While a fixed OMDoc document ontology can be
preloaded, it should be possible to add other annotations ad hoc.  We have not
focused on document \emph{editing} in detail here, but additional editing
services relying on the document ontology are planned for SWiM
0.3~\cite{swim-roadmap,Lange:SWiMSciColl07}.  Finally, using the module system
of OMDoc and refactoring the knowledge into more smaller theories could help to
simplify the structure of Flyspeck for browsing and to explicate the
dependencies between components of the proof.

\paragraph{Browsing} In the Semantic MediaWiki prototype we realized that the
narrative structure of the book is not adequately represented by a simple
hierarchy of categories.  OMDoc has more powerful ways of putting content into
narrative structures~\cite{KohMueMue:dfncimk07}.  We are going to cover them with
the document ontology and utilize them for browsing.

\paragraph{Querying} Proof search will be greatly simplified if
the semantic-aware search engine MathWebSearch~\cite{KohSuc:asemf06} is
used.  It applies substitution tree indexing to mathematical formulae.
That means, for example, that a query for $\int f(x\mathop{?}z) dx$
would also find $\int f(y+z) dy$.  Equivalence up to
$\alpha$-renaming of bound variables is obviously essential for a serious query
language.

\paragraph{Different Theorem Provers} If several parts of the proof are done in different
theorem provers, highly non-trivial and mostly novel translations become
necessary to provide one single proof object. Here OMDoc could be used as an
exchange format between theorem prover languages, and formal translations could
be specified in OMDoc itself.  While this line of research is interesting, it is
difficult for us to foresee what kinds of translations, if any, will be needed.

\paragraph{Download}
Dependencies, which we need for bundling download packages, can partly be
inferred by a DL reasoner using the document ontology, but for a complete
support of OMDoc's notion of dependency, an OMDoc-specific calculus will have to
be applied, which is currently in development.

\paragraph{Upload} We have not implemented uploading a proof
directly to the wiki to have it checked.  This is easy in theory
as we simply need to hook up the theorem prover, but requires some
effort to get the theorem prover to run on the wiki server.  This
should be done soon, as it will relieve the maintainers.
\end{discussion}

%% proof development in the wiki neither.
%% Both needs investigation, starting with a closer look at the systems discussed
%% in section~\ref{sec:math-wiki}.

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "flyspeck-wiki-eswc08"
%%% End: 
