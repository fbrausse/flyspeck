(*  tests of nonlinear inequalities from main.hl *)
(* removed from glpk model OXLZLEZ *)

add 
{
  id = "QITNPEA 9507854632";
  ineq = all_forall `ineq
   [(&2 * hminus,y1, &2 * hplus);
    (&2,y2, &2 * hminus);
    (&2,y3, &2 * hminus);
    (#2 ,y4, #2.1);
    (&2,y5, &2 * hminus);
    (&2,y6, &2 * hminus)
   ]
    ((gamma23f y1 y2 y3 y4 y5 y6 1 1 sqrt2 lmfun - #0.00242
    - #0.00609451*dih_y y1 y2 y3 y4 y5 y6 > #0.0) \/
    (y_of_x rad2_x y1 y2 y3 y4 y5 y6 < &2) \/
    (eta_y y1 y2 y6 > sqrt2 ) \/
    (eta_y y1 y3 y5 > sqrt2))`;
  doc =   "
     Note the upper bound on $y_4$ is $2.1$.
     This is an inequality for 23-cells used to prove the cluster inequality.";
  tags = [Cfsqp;Clusterlp];
};;

add 
{
  id = "QITNPEA 9507854632";
  ineq = all_forall `ineq
   [(&2 * hminus,y1, &2 * hplus);
    (&2,y2, &2 * hminus);
    (&2,y3, &2 * hminus);
    (#2 ,y4, #2.1);
    (&2,y5, &2 * hminus);
    (&2,y6, &2 * hminus)
   ]
    ((gamma23f y1 y2 y3 y4 y5 y6 1 1 sqrt2 lmfun - #0.00242
    - #0.00609451*dih_y y1 y2 y3 y4 y5 y6 > #0.0) \/
    (y_of_x rad2_x y1 y2 y3 y4 y5 y6 < &2) \/
    (eta_y y1 y2 y6 > sqrt2 ) \/
    (eta_y y1 y3 y5 > sqrt2))`;
  doc =   "
     Note the upper bound on $y_4$ is $2.1$.  The same inequality holds when
    $y_4\\ge 2.1$.  In fact, \\ineq{4003532128} is even stronger.
     This is an inequality for $23$-cells used to prove the cluster inequality.";
  tags = [Cfsqp;Clusterlp];
};;

test_ineq {
  id = "2";
  ineq = all_forall `ineq
   [(&2 * hminus,y1, &2 * hplus);
    (&2,y2, &2 * hminus);
    (&2,y3, &2 * hminus);
    (#2 ,y4, &2 * hminus);
    (&2,y5, &2 * hminus);
    (&2,y6, &2 * hminus)
   ]
  ( (gamma4f y1 y2 y3 y4 y5 y6 lmfun > #0.0) \/
    (dih_y y1 y2 y3 y4 y5 y6 < #1.575) )`;
  doc =   "test";
  tags = [];
};;

add 
{
  id = "QITNPEA 4 blades, 3 quarters";
  ineq = all_forall `ineq
   [(&2 * hminus,y1, &2 * hplus);
    (&2,y2, &2 * hminus);
    (&2,y3, &2 * hminus);
    (&2,y4, sqrt8);
    (&2,y5, &2 * hminus);
    (&2,y6, &2 * hminus);
    (&2,y7, &2 * hminus);
    (&2,y8, &2 * hminus);
    (&2,y9, &2 * hminus);
    (&2,y10, &2 * hminus);
    (&2,y11, &2 * hminus);
    (&2,y12, &2 * hminus);
    (&2,y13, &2 * hminus)
   ]
    ((gamma23f y1 y2 y3 y4 y5 y6 1 1 sqrt2 lmfun 
    + gamma4f y1 y3 y7 y9 y12 y5 lmfun 
    + gamma4f y1 y7 y8 y10 y13 y12  lmfun 
    + gamma4f y1 y8 y2 y11 y6 y13  lmfun > #0.0) \/
     (
    dih_y y1 y2 y3 y4 y5 y6 
    + dih_y y1 y3 y7 y9 y12 y5  
    + dih_y y1 y7 y8 y10 y13 y12   
    + dih_y y1 y8 y2 y11 y6 y13   < &2 * pi
      ) \/
     (y_of_x rad2_x y1 y2 y3 y4 y5 y6 < &2))`;
  doc =   "
     This is a numerical test of the 4-blade inequality in the case of three quarters
     and one 23-cell.  It is too large to be directly checked by rigorous nonlinear
     optimization. Instead it is broken into smaller pieces.";
  tags = [Cfsqp;Clusterlp;Derived];
};;

(* Next 5400790175 *)



zz();;

List.nth (!ineqs) 0;;
zz();;
1;;

